---
phase: 06-infrastructure-deployment
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/index.html
  - docs/.nojekyll
  - docs/CNAME
  - DNS-SETUP.md
autonomous: false
user_setup:
  - service: github-pages
    why: "Static landing page hosting at 3gs.ai"
    dashboard_config:
      - task: "Enable GitHub Pages from docs/ folder on main branch"
        location: "Repository Settings > Pages > Source: Deploy from branch, Branch: main, Folder: /docs"
      - task: "Set custom domain to 3gs.ai"
        location: "Repository Settings > Pages > Custom domain"
      - task: "Enable Enforce HTTPS after DNS propagates"
        location: "Repository Settings > Pages > Enforce HTTPS checkbox"
  - service: dns-provider
    why: "Route 3gs.ai to GitHub Pages and api.3gs.ai to Render"
    dashboard_config:
      - task: "Create 4 A records for 3gs.ai pointing to GitHub Pages IPs"
        location: "DNS provider dashboard (see DNS-SETUP.md for exact records)"
      - task: "Create CNAME record for api.3gs.ai pointing to Render"
        location: "DNS provider dashboard (see DNS-SETUP.md for exact record)"

must_haves:
  truths:
    - "Landing page explains what 3GS is to both general visitors and developers"
    - "Landing page includes MCP client config JSON and curl command for testing"
    - "Landing page links to live /health and /registry endpoints"
    - "DNS documentation provides exact records needed for deployment"
    - ".nojekyll prevents Jekyll processing of plain HTML"
    - "CNAME file declares custom domain for GitHub Pages"
  artifacts:
    - path: "docs/index.html"
      provides: "Static landing page with project explanation and connection instructions"
      contains: "mcpServers"
    - path: "docs/.nojekyll"
      provides: "Disables Jekyll processing for GitHub Pages"
    - path: "docs/CNAME"
      provides: "Custom domain declaration for GitHub Pages"
      contains: "3gs.ai"
    - path: "DNS-SETUP.md"
      provides: "DNS configuration reference for domain setup"
      contains: "185.199.108.153"
  key_links:
    - from: "docs/index.html"
      to: "src/server.rs"
      via: "Links to api.3gs.ai/health and api.3gs.ai/registry endpoints"
      pattern: "api\\.3gs\\.ai"
    - from: "docs/CNAME"
      to: "DNS-SETUP.md"
      via: "CNAME declares domain, DNS-SETUP.md documents required records"
      pattern: "3gs\\.ai"
---

<objective>
Create the static landing page for 3gs.ai and DNS configuration documentation.

Purpose: Provide a public-facing explanation of what 3GS is, how to connect, and how to verify -- hosted on GitHub Pages at 3gs.ai. DNS documentation enables the user to configure routing for both the landing page (3gs.ai -> GitHub Pages) and the API (api.3gs.ai -> Render).

Output: docs/index.html, docs/.nojekyll, docs/CNAME, and DNS-SETUP.md reference document.
</objective>

<execution_context>
@/home/john/.claude/get-shit-done/workflows/execute-plan.md
@/home/john/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-infrastructure-deployment/06-CONTEXT.md
@.planning/phases/06-infrastructure-deployment/06-RESEARCH.md
@src/server.rs
@src/mcp/tools.rs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create landing page and GitHub Pages files</name>
  <files>docs/index.html, docs/.nojekyll, docs/CNAME</files>
  <action>
Create docs/ directory with three files:

**docs/index.html** - Minimal plain HTML landing page (no CSS framework).

Content structure:
1. **Header**: "Three Good Sources (3GS)" title with status badge (LIVE when deployed) and links to /health and /registry
2. **What is 3GS**: Explain the core value proposition -- curated sources instead of SEO-gamed results. Mention "exactly three" and why. Target both general visitors ("what is this?") and developers/agents ("how do I use it?").
3. **How to Connect - MCP Clients**: JSON config snippet for MCP client configuration pointing to https://api.3gs.ai/mcp
4. **How to Connect - Developers**: curl example calling tools/call with get_sources for "learn rust" query against https://api.3gs.ai/mcp
5. **Available Tools**: List all 4 tools (get_sources, list_categories, get_provenance, get_endorsements) with one-line descriptions
6. **Live Data**: Links to https://api.3gs.ai/health and https://api.3gs.ai/registry
7. **Vision**: Brief paragraph about decentralized knowledge graph, cryptographic signatures, open protocol
8. **Footer**: Built with Rust, Pubky identity, MCP protocol

Styling:
- Inline CSS in <style> tag (no external dependencies)
- System font stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif
- Max-width 800px centered, comfortable line-height (1.6)
- Light background, dark text (#333)
- Code blocks with gray background (#f4f4f4), pre with overflow-x: auto
- Links in blue (#0066cc), no underline by default, underline on hover
- Should look like a well-formatted README -- clean, fast-loading, readable

All API links point to https://api.3gs.ai (the Render-hosted API subdomain).

Use the landing page HTML from the research document (06-RESEARCH.md "Landing Page HTML" section) as a starting template, but verify the MCP client config JSON is actually correct for an HTTP POST MCP server. The MCP client config should show:
```json
{
  "mcpServers": {
    "three-good-sources": {
      "url": "https://api.3gs.ai/mcp"
    }
  }
}
```
(Simple URL-based config for HTTP MCP servers -- no node command wrapper needed.)

The curl example should be a complete, copy-pasteable command that actually works against the API.

**docs/.nojekyll** - Empty file. Prevents GitHub Pages from running Jekyll on the HTML.

**docs/CNAME** - Single line containing: 3gs.ai
This file tells GitHub Pages the custom domain. No trailing newline needed but one is fine.
  </action>
  <verify>
Open docs/index.html in a browser locally to check rendering.
Verify docs/.nojekyll exists (empty file).
Verify docs/CNAME contains exactly "3gs.ai".
Check that index.html contains: "mcpServers", "api.3gs.ai/health", "api.3gs.ai/registry", "curl", "get_sources".
  </verify>
  <done>docs/index.html renders correctly as a clean, informative landing page. Contains both MCP client config JSON and curl example. Links to /health and /registry at api.3gs.ai. .nojekyll and CNAME files present.</done>
</task>

<task type="auto">
  <name>Task 2: Create DNS setup documentation</name>
  <files>DNS-SETUP.md</files>
  <action>
Create DNS-SETUP.md in project root as a reference for the user to configure their DNS provider.

Content:
1. **Overview**: Two domains to configure -- 3gs.ai (GitHub Pages) and api.3gs.ai (Render)

2. **Apex Domain (3gs.ai -> GitHub Pages)**: Four A records:
   - 3gs.ai A 185.199.108.153
   - 3gs.ai A 185.199.109.153
   - 3gs.ai A 185.199.110.153
   - 3gs.ai A 185.199.111.153
   TTL: 3600 (or default)

3. **API Subdomain (api.3gs.ai -> Render)**: One CNAME record:
   - api.3gs.ai CNAME three-good-sources-api.onrender.com
   TTL: 3600 (or default)

4. **Verification steps**:
   - Wait 30-60 minutes after creating records
   - dig @8.8.8.8 3gs.ai A (should show GitHub IPs)
   - dig @8.8.8.8 api.3gs.ai CNAME (should show Render hostname)

5. **GitHub Pages setup**:
   - Repository Settings > Pages > Source: Deploy from branch, main, /docs
   - Custom domain: 3gs.ai
   - Enforce HTTPS (after DNS propagates)

6. **Render custom domain setup**:
   - Render Dashboard > Service > Settings > Custom Domains > Add api.3gs.ai
   - Render auto-provisions TLS certificate

7. **Troubleshooting**: DNS propagation delays, how to check with dig, GitHub Pages verification requirements

Format as clean markdown with tables for DNS records. Keep concise -- this is a reference checklist, not a tutorial.
  </action>
  <verify>
DNS-SETUP.md exists and contains all 4 GitHub Pages A record IPs, the Render CNAME record, and verification commands.
  </verify>
  <done>DNS-SETUP.md provides complete DNS configuration reference with exact records, verification commands, and platform setup steps for both GitHub Pages and Render.</done>
</task>

<task type="checkpoint:human-verify" gate="non-blocking">
  <what-built>Landing page HTML at docs/index.html and DNS setup documentation at DNS-SETUP.md</what-built>
  <how-to-verify>
1. Open docs/index.html in browser -- confirm it renders cleanly, looks like a well-formatted README
2. Verify MCP client config JSON and curl command look correct
3. Review DNS-SETUP.md for accuracy against your DNS provider
4. When ready to deploy:
   a. Follow DNS-SETUP.md to create DNS records at your provider
   b. Enable GitHub Pages in repo Settings (source: main branch, /docs folder)
   c. Set custom domain to 3gs.ai in GitHub Pages settings
   d. Add api.3gs.ai as custom domain in Render dashboard
   e. Wait for DNS propagation (30-60 min) then enable Enforce HTTPS
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any issues with the landing page or DNS docs</resume-signal>
</task>

</tasks>

<verification>
1. docs/index.html opens in browser and renders a clean, readable page
2. Page explains what 3GS is (value proposition section)
3. Page includes MCP client config JSON with api.3gs.ai/mcp URL
4. Page includes curl example with working JSON-RPC request
5. Page links to https://api.3gs.ai/health and https://api.3gs.ai/registry
6. docs/.nojekyll exists (empty file)
7. docs/CNAME contains "3gs.ai"
8. DNS-SETUP.md contains correct GitHub Pages A record IPs and Render CNAME
</verification>

<success_criteria>
- Landing page is informative for both general visitors and technical users
- Connection instructions are copy-pasteable (MCP config + curl)
- Live data links point to correct API subdomain endpoints
- DNS documentation provides complete setup checklist
- GitHub Pages deployment files (.nojekyll, CNAME) are present
</success_criteria>

<output>
After completion, create `.planning/phases/06-infrastructure-deployment/06-02-SUMMARY.md`
</output>
